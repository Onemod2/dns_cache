Идея:
  Создаем массив огранниченого размера, в котором храним std::list элементов у которых одинаковый hash(key).
  В этом случае не придется делать глобальной синхронизации, а нужна будет только синхронизация в каждом std::list
  На самом деле для того, чтобы удалять последний элемент в случае переполнения глобальная синхронизация все таки нужна :(
  Для простоты отождествляются понятия размер очереди (количество batch-s) и ограничение на количество элементов (общее).
Вставка:
  Вставка в кэш работает за O(1), но если функция hash слишком плохая, то за O(n). n - количество элементов в lookup table;
Извлечение из кэша:
  Работает за O(1), но если функция hash слишком плохая, то до O(n).
